{% extends "base.html" %}
{% block title %}Login Page{% endblock %}

{% block extraheaders %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/style_main.css') }}">
{% endblock %}

{% block content %}
<!-- Jobs Available Section -->
<div class="container mt-5">
    <section class="title-section text-center">
        <h1>Jobs Available</h1>
    </section>

    <section class="search-section">
        <div class="container">
            <form action="{{ url_for('main') }}" method="post" class="row justify-content-center align-items-center">
                {{ form.hidden_tag() }}
                <div class="col-sm-3 my-1">
                    {{ form.keyword(size=16) }}
                    {% for error in form.keyword.errors %}
                    <span style="color: red">[{{ error }}]</span>
                    {% endfor %}
                </div>
                <div class="col-sm-3 my-1">
                    {{ form.job_type.label }}
                    {{ form.job_type }}
                    {% for error in form.job_type.errors %}
                    <span style="color: red">[{{ error }}]</span>
                    {% endfor %}
                </div>
                <div class="col-sm-3 my-1">
                    {{ form.submit() }}
                    {% for error in form.errors %}
                    <span style="color: red">[{{ error }}]</span>
                    {% endfor %}
                </div>
            </form>
        </div>
    </section>

    <section class="job-section my-4">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th scope="col">Job Name</th>
                    <th scope="col">User</th>
                    <th scope="col">Pay</th>
                    <th scope="col">Location</th>
                    <th scope="col">Start From</th>
                    <th scope="col">Status</th>
                    <th scope="col">Job Type</th>
                </tr>
            </thead>
            <tbody>
                {% for row in data %}
                <tr>
                    <td>{{ row[0] }}</td>
                    <td>{{ row[1] }}</td>
                    <td>{{ row[2] }}</td>
                    <td>{{ row[3] }}</td>
                    <td>{{ row[4] }}</td>
                    <td>{{ row[5] }}</td>
                    <td>{{ row[6] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>
</div>

<!-- Popup -->
<div class="container">
    <div id="popup" class="popup">
        <div id="popup-content">
            <div class="boxL">
                Left Box
            </div>
            <div class="boxR">
                Right Box
            </div>
        </div>
        <span id="closeButton">&times;</span>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    var row = document.getElementById("row");

    row.addEventListener("click", function () {
        var popup = document.getElementById("popup");
        popup.style.display = "block";
        popup.style.opacity = 1;
    });

    var closeButton = document.getElementById("closeButton");
    closeButton.addEventListener('click', function () {
        var popup = document.getElementById("popup");
        popup.style.display = 'none';
    });

    window.addEventListener('click', function (e) {
        var popup = document.getElementById("popup");
        if (e.target === popup) {
            popup.style.display = 'none';
        }
    });
});
</script>

{% endblock %}
